Optimize and fix time::precise_time_ns() on macos