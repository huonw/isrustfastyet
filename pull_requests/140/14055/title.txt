Check lifetime parameters when resolving impls; use `ty::substs` in trans