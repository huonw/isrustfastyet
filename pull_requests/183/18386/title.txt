Avoid O(n^2) performance by checking reduced set of obligations