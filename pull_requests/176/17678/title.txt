Limit recursion depth for macro expansions, closes #17628