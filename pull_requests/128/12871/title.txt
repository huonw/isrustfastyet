Refactored while_some (libstd/option.rs)