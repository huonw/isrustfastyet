Fix type checking of struct fields in patterns of type ty_err